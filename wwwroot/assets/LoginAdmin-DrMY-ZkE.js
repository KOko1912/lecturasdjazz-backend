import{j as v,r as l,c as i,d as o,e as f,w as _,h as d,v as u,t as b,a as p,u as w,_ as y}from"./index-Dy9PrGVy.js";import{a as h}from"./index-Dq7h7Pqt.js";const S={class:"app-container"},k={class:"login-container"},x={class:"login-card mystical-card"},I={class:"input-group"},N={class:"input-group"},V={key:0,class:"error-message"},A=v({__name:"LoginAdmin",setup(B){const n=l(""),r=l(""),t=l(""),c=w(),m="https://lecturasdjazz-api.onrender.com";async function g(){t.value="";try{const s=await h.post(`${m}/api/admin/auth/login`,{telefono:n.value,password:r.value}),e=s.data.admin,a=s.data.token;e&&a?(localStorage.setItem("adminId",e.id),localStorage.setItem("adminNombre",e.nombre),localStorage.setItem("adminToken",a),c.push("/admin/home")):t.value="Respuesta del servidor incompleta."}catch(s){t.value=s?.response?.data?.message||"Error al iniciar sesi√≥n",console.error("Error al iniciar sesi√≥n como admin:",s)}}return(s,e)=>(p(),i("div",S,[o("div",k,[o("div",x,[e[5]||(e[5]=o("div",{class:"login-header"},[o("h1",{class:"login-title"},"üîê Acceso del Or√°culo Supremo"),o("p",{class:"login-subtitle"},"Solo los guardianes del conocimiento pueden entrar")],-1)),o("form",{onSubmit:_(g,["prevent"]),class:"login-form"},[o("div",I,[e[2]||(e[2]=o("label",{for:"telefono"},"üìû Tel√©fono",-1)),d(o("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a),type:"text",id:"telefono",placeholder:"N√∫mero del guardi√°n",class:"login-input",required:""},null,512),[[u,n.value]])]),o("div",N,[e[3]||(e[3]=o("label",{for:"password"},"üîë Contrase√±a",-1)),d(o("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.value=a),type:"password",id:"password",placeholder:"Palabra secreta",class:"login-input",required:""},null,512),[[u,r.value]])]),e[4]||(e[4]=o("button",{type:"submit",class:"login-button"}," üõ°Ô∏è Ingresar al Panel ",-1))],32),t.value?(p(),i("p",V,b(t.value),1)):f("",!0)])])]))}}),T=y(A,[["__scopeId","data-v-c64d1012"]]);export{T as default};
