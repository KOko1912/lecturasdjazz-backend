import{j as f,r as i,c as v,d as o,b as g,h as u,v as p,w as b,s as _,q as w,a as x,f as k,l as y,_ as V}from"./index-DvMzjJ6p.js";import{a as C}from"./index-Dq7h7Pqt.js";const N={class:"register-page"},U=f({__name:"Register",setup(q){const d="https://lecturasdjazz-api.onrender.com",s=i(""),n=i(""),l=i(""),m=y();async function c(){try{const t=await C.post(`${d}/api/auth/register`,{nombre:s.value,telefono:n.value,password:l.value}),{token:e,usuario:a}=t.data;e&&a?(localStorage.setItem("token",e),localStorage.setItem("usuario",JSON.stringify(a)),m.push("/usuario")):alert("Usuario registrado, pero no se obtuvo información del usuario o token")}catch(t){alert(t?.response?.data?.error||"Error al registrar usuario"),console.error(t)}}return(t,e)=>{const a=w("router-link");return x(),v("div",N,[e[5]||(e[5]=o("h2",null,"Crear cuenta",-1)),o("form",{onSubmit:b(c,["prevent"])},[u(o("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.value=r),type:"text",placeholder:"Nombre completo",required:""},null,512),[[p,s.value]]),u(o("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>n.value=r),type:"tel",placeholder:"Teléfono",required:""},null,512),[[p,n.value]]),u(o("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>l.value=r),type:"password",placeholder:"Contraseña",required:""},null,512),[[p,l.value]]),e[3]||(e[3]=o("button",{type:"submit"},"Registrar",-1))],32),g(a,{to:"/login"},{default:_(()=>e[4]||(e[4]=[k("¿Ya tienes cuenta? Iniciar sesión")])),_:1,__:[4]})])}}}),S=V(U,[["__scopeId","data-v-b1145860"]]);export{S as default};
